---
layout: post
title:  "复杂度的来源"
date:   2021-02-10 23:00:00 +0800
categories: Architecture
tags: Architecture
excerpt: 复杂度的来源
mathjax: true
typora-root-url: ../
---

# 复杂度的来源

架构的复杂度主要来源于“高性能”“高可用”“可扩展”等几个方面。

## 高性能

软件系统中高性能带来的复杂度主要体现的两方面，一是单台计算机内部为了高性能带来的复杂度；二是是多台计算机集群为了高性能带来的复杂度。

## 高可用

计算高可用

存储高可用：存储高可用不可能同时满足“一致性、可用性、分区容错性”

## 可扩展性

系统需要拆分出变化层和稳定层

需要设计变化层和稳定层之间的接口

## 低成本、安全和规模

### 低成本

当我们设计“高性能”“高可用”的架构时，通用的手段都是增加更多服务器来满足“高性能”和“高可用”的要求；而低成本正好与此相反，我们需要减少服务器的数量才能达成低成本的目标。因此，低成本本质上是与高性能和高可用冲突的，所以低成本很多时候不会是架构设计的首要目标，而是架构设计的附加约束。

### 安全

安全可以分为两类：

* 功能上的安全：功能上的安全是防小偷

* 架构上的安全：架构上的安全是防强盗

### 规模

规模带来复杂度的主要原因就是“量变引起质变”，当数量超过一定的阈值后，复杂度会发生质的变化。常见的规模带来的复杂度：

* 功能越来越多，导致系统复杂度指数级上升
* 数据越来越多，系统复杂度发生质变